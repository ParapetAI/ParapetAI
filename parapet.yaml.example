version: 1

tenants:
  - name: default
    spend:
      daily_usd_cap: 5.0

users:
  - username: alice
    role: admin
    password_ref: alice_pass_ref

services:
  - label: app
    tenant: default
    allowed_routes:
      - general
    parapet_token_ref: app_token_ref

routes:
  - name: general
    tenant: default
    provider:
      type: openai
      model: gpt-4o-mini
      provider_key_ref: openai_api_key_ref
    policy:
      max_tokens_in: 4000
      max_tokens_out: 4000
      budget_daily_usd: 2.0
      drift_strict: true
      redaction:
        mode: off
        patterns: []

secrets:
  openai_api_key_ref: ENV:OPENAI_API_KEY
  app_token_ref: ENV:PARAPET_APP_TOKEN
  alice_pass_ref: ENV:PARAPET_ADMIN_ALICE_PASSWORD
